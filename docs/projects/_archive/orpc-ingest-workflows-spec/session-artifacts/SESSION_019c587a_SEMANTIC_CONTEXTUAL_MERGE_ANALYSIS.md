# SESSION_019c587a Semantic & Contextual Merge Analysis

## 1. Semantic Merge Map

### Keep unique (additive extraction)
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/FLAT_RUNTIME_SURFACES_PROPOSAL.md`: this document captures platform-level taxonomy, steward recommendations, and multi-surface governance (templateRole/channel/published semantics) that extend beyond the ORPC/Inngest scope. Preserve it as a legacy governance context doc and point implementation readers to the new packet for specific policies.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_05_SIMPLICITY_LEGACY_REMOVAL.md`: the simplicity/legacy-removal framing, metadata “publish posture” commentary, and provisioning of removal targets are not duplicated in the authoritative packet. Keep these narratives in a dedicated legacy artifact (e.g., `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/LEGACY_METADATA_REMOVAL.md`) so the removal logic stays visible without conflicting with the new spec.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_04_SYSTEM_TESTING_SYNC.md`: rollout sequencing, testing/CI governance, and sync/lifecycle command constraints are operational guidance that the ORPC/Inngest packet intentionally omits. Rehome the matrix and guards under a process-focused doc (for example `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/LEGACY_TESTING_SYNC.md`) and keep links from process/operations docs pointing there.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/DECISIONS.md` (deferred items D-004 and D-005): while D-001..D-003 are now codified in the new `orpc-ingest-spec-packet/DECISIONS.md` register, the deferred choices about “workflow-backed helper abstraction” and the `publish` metadata timeline remain unresolved context. Capture those rows in a legacy appendix (e.g., `LEGACY_DECISIONS_APPENDIX.md`) so the triggers/owners stay visible for future closure.

### Replace (authoritative packet wins)
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/FLAT_RUNTIME_SPEC_PACKET.md` → `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/orpc-ingest-spec-packet/ORPC_INGEST_SPEC_PACKET.md`: the old entrypoint now duplicates the new packet role/coverage. Redirect references to the canonical packet entry and remove duplicated intro text after archival.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_01_TECH_CORRECTNESS.md`, `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_02_ARCHITECTURE_LIFECYCLE.md`, `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_03_END_TO_END_EXAMPLES.md` → corresponding `orpc-ingest-spec-packet/AXIS_01-AXIS_09` docs (and `examples/E2E_*`). The new axis docs already capture the same surface policies with updated naming/invariants; replace the old axis docs with pointers to the authoritative ones and archive the old files.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_04_SYSTEM_TESTING_SYNC.md` (authoritative coverage for integration targets such as host mounts) and `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_05_SIMPLICITY_LEGACY_REMOVAL.md` (dual-path minimization) are partially covered by `AXIS_07_HOST_HOOKING_COMPOSITION.md`, `AXIS_08_WORKFLOWS_VS_APIS_BOUNDARIES.md`, and `AXIS_03_SPLIT_VS_COLLAPSE.md`; the duplicated policy text should be replaced with references to those axis docs while preserving the unique operational appendices elsewhere.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/FLAT_RUNTIME_SURFACES_RECOMMENDED_PROPOSAL.md`’s locked decisions/composition statements → `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/SESSION_019c587a_ORPC_INNGEST_WORKFLOWS_POSTURE_SPEC.md` and the axis files (especially AXIS_07 for host wiring and AXIS_03 for the split posture). Replace the redundant sections with single-line summaries that point to the authoritative posture/invariants.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/DECISIONS.md`’s closed decisions D-001..D-003 → `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/orpc-ingest-spec-packet/DECISIONS.md` (D-011/D-012 etc.). Update legacy references to point to the new decision register and archive the old table once unique rows are extracted.

### Merge-align (overlapping with wording/positioning adjustments)
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/FLAT_RUNTIME_SURFACES_RECOMMENDED_PROPOSAL.md`’s “Locked Decisions” section: keep the split/mount/import rules but reword in terms of the packet’s global invariants (`SESSION_019c587a_ORPC_INNGEST_WORKFLOWS_POSTURE_SPEC.md` invariants 1–25) and axis policies (especially AXIS_03 and AXIS_07) before archiving.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_05_SIMPLICITY_LEGACY_REMOVAL.md` sections on the minimal end-state model and dual-path risk should be translated into the new axis vocabulary (merge-matching to AXIS_03’s anti-dual-path policy and AXIS_07’s host ownership rules) while maintaining the metadata narrative in the legacy artifact.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_04_SYSTEM_TESTING_SYNC.md` acceptance gates and integration targets should be reframed to call out the packet-wide rules (cross-cutting defaults and global invariants) so that the gating language references the same canonical authority as the new packet.
- `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/spec-packet/AXIS_04_SYSTEM_TESTING_SYNC.md`’s integration-test focus on host/mount exposures should mention the canonical host split from AXIS_07 and AXIS_08, explicitly tying integration checks to the authoritative policy.

## 2. Contextual Diagnosis of Confusion
- **Taxonomy drift**: Icons like `AXIS_01_TECH_CORRECTNESS`/`AXIS_02_ARCHITECTURE_LIFECYCLE` vs. the new `AXIS_01_EXTERNAL_CLIENT_GENERATION`/`AXIS_03_SPLIT_VS_COLLAPSE` naming made it hard to see that the same policies were being discussed. The old axis numbering is still referenced in `docs/system/spec-packet`, while the new packet re-used the same numbers with entirely different labels, creating mismatched mental models (see the alignment matrix; `SESSION_019c587a_ORIGINAL_TO_ORPC_INGEST_ALIGNMENT_MATRIX.md` rows T001–Y016 for the mapped equivalencies).
- **Authority ambiguity & duplication**: Both `/docs/system` and `/docs/projects/flat-runtime-session-review` contain competing entrypoints, decision registers, and examples. Without an explicit “this is canonical” banner, readers kept consulting the older file set. The archive sweep matrix recommends moving the old set once authority is declared (`SESSION_019c587a_DOCS_ARCHIVE_SWEEP_MATRIX.md`), and the loop closure bridge explicitly calls this out as an outstanding risk (see `SESSION_019c587a_LOOP_CLOSURE_BRIDGE.md` sections “Canonical artifacts” and “Open Ends”).
- **Temporal layering**: The old documents were only partially retired after the new packet shipped, so both versions coexisted on the branch. That layered timeline of updates, combined with in-flight Graphite stacks, kept the older docs appearing in search results and code references, perpetuating confusion about which spec to obey.
- **Decision register split**: The legacy register (`docs/system/spec-packet/DECISIONS.md`) still lists closed choices and deferred work (D-001..D-005), while the new register (`orpc-ingest-spec-packet/DECISIONS.md`) contains a different set (D-005..D-012). Without migration guidance, implementers consulted both, unsure which to obey—especially around metadata fields and helper abstractions. We must explicitly tie the legacy register’s unresolved rows (D-004, D-005) into the new process while retiring D-001..D-003 in favor of the new locked decisions.
- **Ownership unclear**: Old docs implied `docs/system` is the canonical tier, but the new session-specific docs live under `docs/projects`. Until we declare the latter authoritative (per the cleanup synthesis plan steps) and redirect old references, readers may continue editing the wrong family.

## 3. Proposed Final Authoritative Packet Composition Plan
1. **Integrator overview**: `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/SESSION_019c587a_ORPC_INNGEST_WORKFLOWS_POSTURE_SPEC.md` stays as the integrative posture document (ownership: architecture team). It continues to summarize scope, locked decisions, invariants, axis map, and interaction flows.
2. **Canonical entry packet**: `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal//Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/orpc-ingest-spec-packet/ORPC_INGEST_SPEC_PACKET.md` remains the single entry point for authoring policy, linking to the axis docs, cross-cutting defaults, tutorials, and the canonical decision register (`/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal//Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/orpc-ingest-spec-packet/DECISIONS.md`). Treat this file as the primary “start-here” location for implementation guidance.
3. **Axis leaf specs**: Keep the `AXIS_01`–`AXIS_09` files under `orpc-ingest-spec-packet` as the policy leaf for each axis, with owners noted in each axis doc (authoring team: ORPC/Inngest crew). They should mention any relevant cross-axis dependencies and highlight new open questions (e.g., D-005 on helper abstraction). Where legacy axis content is still useful (e.g., host/mount styling from old `AXIS_03`), rewrite the wording to align with the new sections rather than duplicating text.
4. **Legacy governance/residues**: Create scoped companion docs under `docs/projects/flat-runtime-session-review` to house the unique content from `/docs/system` that must survive. For example:
   - `LEGACY_METADATA_REMOVAL.md` (or similar) captures the TemplateRole/channel/published removal plan and complexity hotspots from `AXIS_05_SIMPLICITY_LEGACY_REMOVAL.md`.
   - `LEGACY_TESTING_SYNC.md` keeps the testing matrix, rollout policy, CI policy checklist, lifecycle command guidance, and acceptance gates currently in `AXIS_04_SYSTEM_TESTING_SYNC.md`.
   - `LEGACY_DECISIONS_APPENDIX.md` records the deferred decisions D-004 (helper abstraction threshold) and D-005 (publish metadata phase-out) that have not been re-opened under the new register.
   These files stay under the session review directory (ownership: governance/release/test leads) and are referenced whenever implementation work requires the retained context.
5. **Archive old docs**: After unique content is extracted, move the old `/docs/system` files into `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/_archive/flat-runtime-session-review/system/` (per `DOCS_ARCHIVE_SWEEP_MATRIX.md`). Ensure any links from `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/SYSTEM.md`, `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/PLUGINS.md`, or `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/process/*` now point to the authoritative packet or the new legacy companion docs.
6. **Decision register consolidation**: Reconcile the old and new decision tables by: (a) keeping D-001..D-003 from the legacy register recorded as resolved in the new register (they already correspond to locked decisions D-011/D-012, etc.), and (b) ensuring D-004/D-005 get migrated to the legacy appendix with owners/triggers. New open decisions from the packet (D-005..D-012) remain the source of truth.

## 4. Execution Order for Single Authoritative Packet (analysis-only)
1. **Authority declaration**: Update `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/system/FLAT_RUNTIME_SURFACES_RECOMMENDED_PROPOSAL.md` (and any other breadcrumbs) to explain that the ORPC/Inngest packet under `docs/projects/flat-runtime-session-review` is now authoritative. This first step prevents future edits from targeting the wrong family and satisfies the “authority lock” step in `SESSION_019c587a_CLEANUP_INTEGRATION_SYNTHESIS.md`.
2. **Capture unique contexts**: Extract the unique metadata, testing, and deferred-decision narratives from the old docs into the legacy companion files under `docs/projects/flat-runtime-session-review` (LEGACY_METADATA_REMOVAL, LEGACY_TESTING_SYNC, LEGACY_DECISIONS_APPENDIX). Confirm that each extracted section tracks its original owner/closure trigger before moving or archiving the source file.
3. **Replace overlapping prose**: In each `/docs/system/spec-packet` file that duplicates new axis content, rewrite the overlapping paragraphs to either point to `orpc-ingest-spec-packet/AXIS_*` or to highlight the unique legacy piece now captured in the companion doc. For example, `AXIS_05_SIMPLICITY_LEGACY_REMOVAL.md` should keep its “complexity hotspot” list but reference AXIS_03/AXIS_07 for runtime split policy, while `AXIS_04_SYSTEM_TESTING_SYNC.md` links to the global invariants and AXIS_07 host splitting for integration tests.
4. **Archive old files**: Once steps 2 and 3 are confirmed, move the archival candidates listed in `DOCS_ARCHIVE_SWEEP_MATRIX.md` (under `/docs/system` and `/docs/projects/_archive` plans) into `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/_archive/flat-runtime-session-review/system/`. Keep a migration manifest near the new packet so readers know where historical context lives.
5. **Link validation**: Update cross references in `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/PLUGINS.md`, `docs/PROCESS/*.md`, and any other docs still pointing to `/docs/system/spec-packet` to reference the new packet or the new legacy companion docs. Run link-checking (manual or automated) to verify there are no stale references remaining.
6. **Decision gap check**: Ensure the new decision register covers every open policy by referencing `orpc-ingest-spec-packet/DECISIONS.md`. Items still unresolved (D-005 on helper abstraction, D-010 on finished hook guardrail, etc.) should be surfaced in the legacy appendix or tracked as pending actions.

## 5. Outstanding Uncertainties
- D-005/D-006 etc. from the new decision register remain `open` or `proposed` (see `/Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal//Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/projects/flat-runtime-session-review/orpc-ingest-spec-packet/DECISIONS.md`). Their resolutions feed into step 6 above.
- Some links in the workspace (e.g., `//Users/mateicanavra/Documents/.nosync/DEV/rawr-hq-template-wt-flat-runtime-proposal/docs/SYSTEM.md` referencing the old packet) must be carefully redirected once archival moves happen; still need confirmation on the final target anchors.
- The legacy companion artifacts must be scoped so they are never mistaken for canonical policy (clear banner language helps here).
