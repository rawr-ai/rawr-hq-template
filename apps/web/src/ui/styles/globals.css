@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;

  --ui-font-sans: "IBM Plex Sans", "Segoe UI Variable", "Segoe UI", sans-serif;
  --ui-font-mono: "IBM Plex Mono", "JetBrains Mono", "SFMono-Regular", ui-monospace, monospace;

  --background: 210 40% 98%;
  --foreground: 220 45% 12%;

  --card: 210 38% 99%;
  --card-foreground: 220 45% 12%;

  --popover: 0 0% 100%;
  --popover-foreground: 220 45% 12%;

  --primary: 189 73% 38%;
  --primary-foreground: 190 100% 97%;

  --secondary: 210 20% 93%;
  --secondary-foreground: 219 36% 21%;

  --muted: 210 20% 95%;
  --muted-foreground: 217 17% 41%;

  --accent: 186 66% 45%;
  --accent-foreground: 190 100% 96%;

  --destructive: 4 75% 50%;
  --destructive-foreground: 0 0% 99%;

  --success: 158 63% 38%;
  --success-foreground: 153 100% 97%;

  --warning: 35 89% 49%;
  --warning-foreground: 28 98% 14%;

  --border: 217 20% 84%;
  --input: 216 24% 87%;
  --ring: 186 66% 45%;

  --radius-lg: 1rem;
  --radius-md: 0.75rem;
  --radius-sm: 0.5rem;

  --shadow-shell: 0 16px 40px rgba(15, 23, 42, 0.08);
  --shadow-panel:
    0 0 0 0.5px rgba(15, 23, 42, 0.06),
    0 1px 3px rgba(15, 23, 42, 0.08),
    0 10px 28px rgba(15, 23, 42, 0.06);

  --shell-glow: radial-gradient(circle at 15% -12%, rgba(0, 177, 177, 0.2), transparent 42%),
    radial-gradient(circle at 100% 0%, rgba(41, 128, 255, 0.14), transparent 35%);

  --ui-surface-0: hsl(var(--background));
  --ui-surface-1: hsl(var(--card));
  --ui-surface-2: hsl(210 30% 96%);
  --ui-surface-3: hsl(210 26% 92%);
  --ui-surface-inset: hsl(210 32% 92%);

  --ui-text-primary: hsl(var(--foreground));
  --ui-text-secondary: hsl(218 26% 27%);
  --ui-text-tertiary: hsl(var(--muted-foreground));
  --ui-text-muted: hsl(216 15% 50%);

  --ui-border-subtle: hsl(var(--border) / 0.58);
  --ui-border-default: hsl(var(--border) / 0.82);
  --ui-border-strong: hsl(216 18% 64%);

  --ui-accent: hsl(var(--accent));
  --ui-accent-strong: hsl(186 66% 40%);
  --ui-accent-ink: hsl(var(--accent-foreground));

  --ui-success: hsl(var(--success));
  --ui-warning: hsl(var(--warning));
  --ui-error: hsl(var(--destructive));

  --ui-space-1: 0.25rem;
  --ui-space-2: 0.5rem;
  --ui-space-3: 0.75rem;
  --ui-space-4: 1rem;
  --ui-space-5: 1.25rem;
  --ui-space-6: 1.5rem;
  --ui-space-7: 2rem;

  --ui-radius-sm: var(--radius-sm);
  --ui-radius-md: var(--radius-md);
  --ui-radius-lg: var(--radius-lg);

  --ui-shadow-elevated: 0 18px 34px rgba(15, 23, 42, 0.16);
  --ui-transition-fast: 140ms ease-out;
  --ui-transition-medium: 220ms ease-out;
  --ui-focus-ring: hsl(var(--ring));
}

.dark {
  color-scheme: dark;

  --background: 214 38% 9%;
  --foreground: 210 32% 95%;

  --card: 216 31% 12%;
  --card-foreground: 210 32% 95%;

  --popover: 217 32% 14%;
  --popover-foreground: 210 32% 95%;

  --primary: 181 62% 56%;
  --primary-foreground: 190 88% 13%;

  --secondary: 215 23% 19%;
  --secondary-foreground: 210 28% 88%;

  --muted: 216 21% 16%;
  --muted-foreground: 214 17% 68%;

  --accent: 181 62% 56%;
  --accent-foreground: 188 95% 11%;

  --destructive: 2 72% 67%;
  --destructive-foreground: 8 100% 96%;

  --success: 154 57% 59%;
  --success-foreground: 164 92% 11%;

  --warning: 39 89% 66%;
  --warning-foreground: 34 100% 10%;

  --border: 216 20% 26%;
  --input: 216 19% 30%;
  --ring: 181 62% 56%;

  --shadow-shell: 0 16px 48px rgba(1, 8, 20, 0.52);
  --shadow-panel:
    0 0 0 0.5px rgba(191, 210, 233, 0.14),
    0 1px 2px rgba(2, 7, 15, 0.45),
    0 12px 30px rgba(2, 7, 15, 0.44);

  --shell-glow: radial-gradient(circle at 18% -8%, rgba(95, 214, 205, 0.2), transparent 43%),
    radial-gradient(circle at 100% -6%, rgba(87, 115, 255, 0.18), transparent 38%);

  --ui-surface-0: hsl(var(--background));
  --ui-surface-1: hsl(var(--card));
  --ui-surface-2: hsl(215 28% 16%);
  --ui-surface-3: hsl(215 27% 20%);
  --ui-surface-inset: hsl(216 30% 13%);

  --ui-text-primary: hsl(var(--foreground));
  --ui-text-secondary: hsl(210 30% 84%);
  --ui-text-tertiary: hsl(var(--muted-foreground));
  --ui-text-muted: hsl(214 16% 58%);

  --ui-border-subtle: hsl(var(--border) / 0.62);
  --ui-border-default: hsl(var(--border) / 0.88);
  --ui-border-strong: hsl(214 20% 44%);

  --ui-accent: hsl(var(--accent));
  --ui-accent-strong: hsl(181 66% 61%);
  --ui-accent-ink: hsl(var(--accent-foreground));

  --ui-success: hsl(var(--success));
  --ui-warning: hsl(var(--warning));
  --ui-error: hsl(var(--destructive));

  --ui-shadow-elevated: 0 16px 38px rgba(1, 7, 18, 0.58);
}

@layer base {
  * {
    @apply border-border;
  }

  html,
  body,
  #root {
    min-height: 100%;
  }

  body {
    margin: 0;
    background-color: hsl(var(--background));
    background-image: var(--shell-glow);
    background-repeat: no-repeat;
    color: hsl(var(--foreground));
    font-family: var(--ui-font-sans);
    text-rendering: optimizeLegibility;
  }

  code,
  kbd,
  pre {
    font-family: var(--ui-font-mono);
    font-variant-numeric: tabular-nums;
  }

  :where(button, [role="button"]) {
    touch-action: manipulation;
  }

  :where(a, button, input, select, textarea, [role="button"], [tabindex]):focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
}

@layer utilities {
  .surface-card {
    @apply rounded-lg border bg-card/95 text-card-foreground shadow-panel;
  }

  .surface-muted {
    @apply rounded-md border border-border/70 bg-muted/70 text-muted-foreground;
  }

  .kicker {
    @apply text-[0.7rem] font-semibold uppercase tracking-[0.13em] text-muted-foreground;
  }
}

.react-flow {
  --xy-node-background-color-default: hsl(var(--card));
  --xy-node-color-default: hsl(var(--card-foreground));
  --xy-node-border-default: 1px solid hsl(var(--border));
  --xy-node-boxshadow-hover-default: 0 6px 16px hsl(var(--foreground) / 0.08);
  --xy-node-boxshadow-selected-default: 0 0 0 1px hsl(var(--ring));
  --xy-handle-background-color-default: hsl(var(--accent));
  --xy-handle-border-color-default: hsl(var(--background));
  --xy-edge-stroke-default: hsl(var(--muted-foreground));
  --xy-edge-stroke-selected-default: hsl(var(--accent));
  --xy-connectionline-stroke-default: hsl(var(--accent));
  --xy-background-pattern-line-color-default: hsl(var(--border));
  --xy-background-pattern-dots-color-default: hsl(var(--muted-foreground));
  --xy-controls-button-background-color-default: hsl(var(--card));
  --xy-controls-button-color-default: hsl(var(--card-foreground));
  --xy-controls-button-border-color-default: hsl(var(--border));
  --xy-controls-box-shadow-default: 0 6px 20px hsl(var(--foreground) / 0.12);
  --xy-minimap-background-color-default: hsl(var(--muted));
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    scroll-behavior: auto !important;
    transition-duration: 0.01ms !important;
  }
}
